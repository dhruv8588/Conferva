<!-- Modal -->
<style>
  .modal-title {
    color:black;
    margin-bottom: 0;
    line-height: 1.5;
}
  
  .container label {
   color:black;
}
.container input[type="text"], .container textarea {
    width: 100%;
    padding: 5px;
    margin-bottom: 10px;
    background-color: #f8f9fa;
    border:2px solid black;
    border-radius: 5px;
}
</style>
<div class="cont">
<div class="modal fade" {% block modal-id %} id="add_author_modal" {% endblock modal-id %} tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{% block modal-title %}<i class="fas fa-plus"></i>&nbsp;&nbsp;Add Author</h5>{% endblock modal-title %}
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="redirectToSubmitPaper()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        <form {% block action %} action="{% url 'add_author' conference_id paper.id %}" {% endblock action %} method="post">
          {% csrf_token %}
          <div class="modal-body">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label>First name</label> {{ aform.first_name }}
              </div>
              <div class="form-group col-md-6">
                <label>Last name</label> {{ aform.last_name }}
              </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                  <label>Email</label> {{ aform.email }}
                </div>
            </div>
            <div class="mt-4" style="width: 100%;"> 
              <button type="submit" class="btn btn-secondary mb-3">
                {% block btn-action %}<i class="fas fa-plus"></i>&nbsp;&nbsp;Add Author{% endblock btn-action %}
              </button>
              <button type="reset" class="btn btn-outline-dark mb-3 ms-2" style="width: 50px;"><i class="fas fa-sync-alt"></i></button>
            </div>
            <ul class='errorList'>
              {% for field in aform %}
                  {% if field.errors %}
                      {% for error in field.errors %}
                          <li style="color: red;">{{ error }}</li>
                      {% endfor %}
                  {% endif %}
              {% endfor %}
            </ul>
          </div>
      </form>      
    </div>
  </div>
</div>
</div>


{% block js %}
<script>
  $(document).ready(function() {
    $('#add_author_modal').modal('show');
    $('#add_author_modal').on('click', function(event) {
      if ($(event.target).is('#add_author_modal')) {
        redirectToSubmitPaper();
      }
    });
  }); 
{% endblock js %}
  function redirectToSubmitPaper() {
    window.location.href = {% block redirect-link %}"{% url 'submit_paper' conference_id paper.id %}"{% endblock %};
  }
</script>
